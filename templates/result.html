<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analysis Result</title>
<style>
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #f0f2f5; margin: 0; padding: 2rem; }
.container { max-width: 950px; margin: auto; background: #fff; padding: 2.5rem; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.1); text-align: center; }
.result-header { margin-bottom: 2rem; }
.result-header h1 { font-size: 1.5rem; color: #555; font-weight: normal; }
.result-header .analysis-mode { font-weight: bold; color: #007bff; }
.result-text { font-size: 2.5rem; font-weight: bold; margin: 0.5rem 0; }
.result-fake { color: #d9534f; }
.result-real { color: #28a745; }
.score-text { font-size: 1.2rem; color: #444; }
.images { display: flex; justify-content: space-around; margin-top: 2.5em; flex-wrap: wrap; gap: 2rem; }
.image-box { text-align: center; flex: 1; min-width: 300px; }
.image-box h3 { color: #333; margin-bottom: 1rem; }
.image-box img { max-width: 100%; height: auto; border: 3px solid #ddd; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.05); }
.processed-desc { font-size: 0.9rem; color: #666; margin-top: 1rem; max-width: 350px; margin-left: auto; margin-right: auto; }
a.button { display: inline-block; margin-top: 3rem; background-color: #007bff; color: white; text-decoration: none; padding: 12px 28px; border-radius: 5px; transition: background-color 0.3s; font-size: 16px; }
a.button:hover { background-color: #0056b3; }
</style>
</head>
<body>
<div class="container">
<div class="result-header">
<h1>Analysis Mode: <span class="analysis-mode">{{ 'DeepFake Detection' if analysis_type == 'image' else 'Document Forgery (ELA)' }}</span></h1>
<h2>This document is likely: <span class="result-text {{ 'result-fake' if result == 'Fake' else 'result-real' }}">{{ result }}</span></h2>
<p class="score-text">
{% if analysis_type == 'image' %}
Confidence Score (Fake):
{% else %}
Forgery Score (Higher is more suspicious):
{% endif %}
<strong>{{ "%.2f"|format(probability) }}%</strong>
</p>
</div>

    <div class="images">
        <div class="image-box">
            <h3>Original Image</h3>
            <img src="{{ url_for('static', filename='uploads/' + original_image) }}" alt="Original Image">
        </div>
        <div class="image-box">
            <h3>Analysis Result</h3>
            <img src="{{ url_for('static', filename='processed/' + processed_image) }}" alt="Processed Image">
            {% if analysis_type == 'document' %}
                <p class="processed-desc">This is an <strong>Error Level Analysis (ELA)</strong> heatmap. Bright white and colorful regions suggest areas that might have been edited or inserted.</p>
            {% else %}
                <p class="processed-desc">This is a <strong>simulated heatmap</strong> demonstrating where a deepfake anomaly might be located.</p>
            {% endif %}
        </div>
    </div>
    <a href="/" class="button">Analyze Another Image</a>
</div>

</body>
</html>